{"ast":null,"code":"import _slicedToArray from \"/Users/swethagopikumar/Documents/UniMelB/sem 1/Cluster and Cloud Computing/Assignment  2/tableau-react-jsapi-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/swethagopikumar/Documents/UniMelB/sem 1/Cluster and Cloud Computing/Assignment  2/tableau-react-jsapi-master/src/components/Filter.js\";\nimport React, { useState, useEffect } from \"react\";\nvar _window = window,\n    tableau = _window.tableau;\n\nfunction Filter() {\n  var _useState = useState(\"https://public.tableau.com/views/RegionalSampleWorkbook/College\"),\n      _useState2 = _slicedToArray(_useState, 1),\n      url = _useState2[0];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      viz = _useState4[0],\n      setViz = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      option = _useState6[0],\n      setOption = _useState6[1];\n\n  var _useState7 = useState([{\n    value: \"\",\n    display: \"All\"\n  }, {\n    value: \"2013\",\n    display: \"2013\"\n  }, {\n    value: \"2014\",\n    display: \"2014\"\n  }]),\n      _useState8 = _slicedToArray(_useState7, 1),\n      optionList = _useState8[0];\n\n  var initViz = function initViz() {\n    console.log(optionList);\n    var containerDiv = document.getElementById(\"container\");\n    var options = {\n      \"Academic Year\": option\n    };\n    setViz(new tableau.Viz(containerDiv, url, options));\n  };\n\n  useEffect(initViz, []);\n\n  var filterYear = function filterYear(year) {\n    var sheet = viz.getWorkbook().getActiveSheet();\n\n    if (year === \"\") {\n      sheet.clearFilterAsync(\"Academic Year\");\n      setOption(\"\");\n    } else {\n      sheet.applyFilterAsync(\"Academic Year\", year, tableau.FilterUpdateType.REPLACE);\n      setOption(year);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"Filter\"), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Select Academic Year\"), React.createElement(\"select\", {\n    style: selectStyle,\n    name: \"filterList\",\n    value: option,\n    onChange: function onChange(e) {\n      filterYear(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, optionList.map(function (value) {\n    return React.createElement(\"option\", {\n      key: value.value,\n      value: value.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, value.display);\n  })), React.createElement(\"div\", {\n    style: setVizStyle,\n    id: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }));\n}\n\nvar setVizStyle = {\n  margin: \"25px\",\n  width: \"800px\",\n  height: \"700px\"\n};\nvar selectStyle = {\n  marginLeft: \"10px\"\n};\nexport default Filter;","map":{"version":3,"sources":["/Users/swethagopikumar/Documents/UniMelB/sem 1/Cluster and Cloud Computing/Assignment  2/tableau-react-jsapi-master/src/components/Filter.js"],"names":["React","useState","useEffect","window","tableau","Filter","url","viz","setViz","option","setOption","value","display","optionList","initViz","console","log","containerDiv","document","getElementById","options","Viz","filterYear","year","sheet","getWorkbook","getActiveSheet","clearFilterAsync","applyFilterAsync","FilterUpdateType","REPLACE","selectStyle","e","target","map","setVizStyle","margin","width","height","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nconst { tableau } = window;\n\nfunction Filter() {\n  const [url] = useState(\"https://public.tableau.com/views/RegionalSampleWorkbook/College\");\n  const [viz, setViz] = useState(null);\n  const [option, setOption] = useState(\"\");\n  const [optionList] = useState([\n    {\n      value: \"\",\n      display: \"All\"\n    },\n    {\n      value: \"2013\",\n      display: \"2013\"\n    },\n    {\n      value: \"2014\",\n      display: \"2014\"\n    }\n  ]);\n\n  const initViz = () => {\n    console.log(optionList);\n    let containerDiv = document.getElementById(\"container\");\n    const options = {\n      \"Academic Year\": option\n    };\n    setViz(new tableau.Viz(containerDiv, url, options));\n  };\n\n  useEffect(initViz, []);\n\n  const filterYear = year => {\n    const sheet = viz.getWorkbook().getActiveSheet();\n    if (year === \"\") {\n      sheet.clearFilterAsync(\"Academic Year\");\n      setOption(\"\");\n    } else {\n      sheet.applyFilterAsync(\"Academic Year\", year, tableau.FilterUpdateType.REPLACE);\n      setOption(year);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Filter</h1>\n      <label>Select Academic Year</label>\n      <select\n        style={selectStyle}\n        name=\"filterList\"\n        value={option}\n        onChange={e => {\n          filterYear(e.target.value);\n        }}\n      >\n        {optionList.map(value => {\n          return (\n            <option key={value.value} value={value.value}>\n              {value.display}\n            </option>\n          );\n        })}\n      </select>\n      <div style={setVizStyle} id=\"container\" />\n    </div>\n  );\n}\n\nconst setVizStyle = {\n  margin: \"25px\",\n  width: \"800px\",\n  height: \"700px\"\n};\n\nconst selectStyle = {\n  marginLeft: \"10px\"\n};\n\nexport default Filter;\n"]},"metadata":{},"sourceType":"module"}